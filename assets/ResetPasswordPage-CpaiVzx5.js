import{j as e}from"./query-By2FkZ5k.js";import{r,u as k,h as y}from"./vendor-Bxm2pvdK.js";import{l as S,B as m,h as t,i as P}from"./index-CLvu16Z-.js";import{b as z,c as L,m as C,E as u}from"./ui-BgMx_JBB.js";function T(){const[a,h]=r.useState(""),[o,g]=r.useState(""),[p,n]=r.useState(!1),i=k(),{theme:x,toggleTheme:f}=S(),b=y().state||{},{email:l="",otp:j="",type:N="forgot-password"}=b,v=async s=>{var c,d;if(s.preventDefault(),a!==o){t.error("M·∫≠t kh·∫©u x√°c nh·∫≠n kh√¥ng kh·ªõp");return}n(!0);try{await P.resetPassword({email:l,otp:j,new_password:a}),N==="change-password"?(t.success("ƒê·ªïi m·∫≠t kh·∫©u th√†nh c√¥ng!"),i("/profile")):(t.success("ƒê·∫∑t l·∫°i m·∫≠t kh·∫©u th√†nh c√¥ng!"),i("/login"))}catch(w){t.error(((d=(c=w.response)==null?void 0:c.data)==null?void 0:d.message)||"ƒê·∫∑t l·∫°i m·∫≠t kh·∫©u th·∫•t b·∫°i")}finally{n(!1)}};return e.jsxs("div",{className:"min-h-screen relative flex items-center justify-center px-4 bg-gradient-to-br from-primary/5 via-background to-orange-500/5",children:[e.jsx("div",{className:"absolute top-4 right-4 sm:top-6 sm:right-6",children:e.jsx(m,{variant:"ghost",size:"icon",onClick:f,className:"rounded-full hover:bg-muted/50",children:x==="dark"?e.jsx(z,{className:"size-5"}):e.jsx(L,{className:"size-5"})})}),e.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("span",{className:"text-5xl",children:"üîí"}),e.jsx("h1",{className:"mt-3 text-2xl font-bold",children:"ƒê·∫∑t l·∫°i m·∫≠t kh·∫©u"}),e.jsxs("p",{className:"mt-2 text-sm text-muted-foreground",children:["Nh·∫≠p m·∫≠t kh·∫©u m·ªõi cho t√†i kho·∫£n ",e.jsx("span",{className:"font-medium text-foreground",children:l})]})]}),e.jsx("div",{className:"bg-card border border-border rounded-2xl p-6 shadow-lg",children:e.jsxs("form",{onSubmit:v,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1.5",children:"M·∫≠t kh·∫©u m·ªõi"}),e.jsxs("div",{className:"relative",children:[e.jsx(u,{className:"absolute left-3 top-1/2 -translate-y-1/2 size-4 text-muted-foreground"}),e.jsx("input",{type:"password",value:a,onChange:s=>h(s.target.value),required:!0,minLength:6,className:"w-full h-11 pl-10 pr-4 rounded-lg border border-input bg-background text-foreground focus:ring-2 focus:ring-ring focus:border-transparent outline-none transition-all",placeholder:"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1.5",children:"X√°c nh·∫≠n m·∫≠t kh·∫©u"}),e.jsxs("div",{className:"relative",children:[e.jsx(u,{className:"absolute left-3 top-1/2 -translate-y-1/2 size-4 text-muted-foreground"}),e.jsx("input",{type:"password",value:o,onChange:s=>g(s.target.value),required:!0,minLength:6,className:"w-full h-11 pl-10 pr-4 rounded-lg border border-input bg-background text-foreground focus:ring-2 focus:ring-ring focus:border-transparent outline-none transition-all",placeholder:"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"})]})]}),e.jsx(m,{type:"submit",loading:p,className:"w-full",size:"lg",children:"ƒê·∫∑t l·∫°i m·∫≠t kh·∫©u"})]})})]})]})}export{T as default};
