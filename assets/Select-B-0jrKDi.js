import{j as t}from"./query-By2FkZ5k.js";import{r as a}from"./vendor-Bxm2pvdK.js";import{a6 as f,A as x,m as p,a7 as b}from"./ui-BgMx_JBB.js";function v({value:l,onChange:d,options:c,placeholder:u="Chá»n...",className:m=""}){const[n,s]=a.useState(!1),o=a.useRef(null),i=c.find(e=>e.value===l);return a.useEffect(()=>{const e=r=>{o.current&&!o.current.contains(r.target)&&s(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),a.useEffect(()=>{const e=r=>{r.key==="Escape"&&s(!1)};if(n)return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[n]),t.jsxs("div",{ref:o,className:`relative ${m}`,children:[t.jsxs("button",{type:"button",onClick:()=>s(e=>!e),className:`
          w-full h-11 px-3 pr-9 rounded-xl border text-left text-sm
          flex items-center gap-2 transition-all cursor-pointer
          ${n?"border-ring ring-2 ring-ring/20 bg-background":"border-input bg-background hover:border-muted-foreground/40"}
          ${i?"text-foreground":"text-muted-foreground"}
        `,children:[t.jsx("span",{className:"truncate flex-1",children:i?i.label:u}),t.jsx(f,{className:`size-4 text-muted-foreground absolute right-3 top-1/2 -translate-y-1/2 transition-transform duration-200 ${n?"rotate-180":""}`})]}),t.jsx(x,{children:n&&t.jsx(p.div,{initial:{opacity:0,y:-4,scale:.97},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-4,scale:.97},transition:{duration:.15,ease:"easeOut"},className:"absolute z-50 mt-1.5 w-full min-w-[180px] rounded-xl border border-border bg-popover shadow-xl overflow-hidden",children:t.jsx("div",{className:"py-1 max-h-60 overflow-y-auto scrollbar-thin",children:c.map(e=>{const r=e.value===l;return t.jsxs("button",{type:"button",onClick:()=>{d(e.value),s(!1)},className:`
                      w-full px-3 py-2.5 text-sm text-left flex items-center justify-between gap-2
                      transition-colors cursor-pointer
                      ${r?"bg-primary/10 text-primary font-medium":"text-foreground hover:bg-accent"}
                    `,children:[t.jsx("span",{className:"truncate",children:e.label}),r&&t.jsx(b,{className:"size-4 text-primary shrink-0"})]},e.value)})})})})]})}export{v as S};
